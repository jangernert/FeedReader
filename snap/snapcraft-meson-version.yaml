# status: fails to run

# hayden@pop-os:~/Documents/Projects/FeedReader$ snap run feedreader
# /snap/feedreader/x1/usr/bin/feedreader: /lib/x86_64-linux-gnu/libgcc_s.so.1: version `GCC_7.0.0' not found (required by /snap/feedreader/x1/usr/lib/x86_64-linux-gnu/libwebkit2gtk-4.0.so.37)
#/snap/feedreader/x1/usr/bin/feedreader: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.27' not found (required by /snap/feedreader/x1/usr/lib/x86_64-linux-gnu/libwebkit2gtk-4.0.so.37)
# /snap/feedreader/x1/usr/bin/feedreader: /lib/x86_64-linux-gnu/libz.so.1: version `ZLIB_1.2.9' not found (required by /snap/feedreader/x1/usr/lib/x86_64-linux-gnu/libpng16.so.16)
# /snap/feedreader/x1/usr/bin/feedreader: /usr/lib/x86_64-linux-gnu/libstdc++.so.6: version `GLIBCXX_3.4.22' not found (required by /snap/feedreader/x1/usr/lib/x86_64-linux-gnu/libjavascriptcoregtk-4.0.so.18)

  name: feedreader
  version: 2.2+dev # just for humans, typically '1.2+git' or '1.3.2'
  summary: Modern desktop app designed to complement web-based RSS accounts. 
  description: |
    FeedReader is a modern desktop application designed to complement existing
    web-based RSS accounts. It combines all the advantages of web based services
    like synchronisation across all your devices with everything you expect from
    a modern desktop application.

  grade: stable
  confinement: strict
  
  apps:
    feedreader:
     command: /usr/bin/feedreader
     plugs: [network, home]
     # add .desktop file
     
  parts:
    feedreader:
      plugin: meson
      source: https://github.com/sirredbeard/FeedReader
      source-type: git
      source-subdir: .
      snap:
         - lib/*
         - usr/bin/*
         - usr/lib/*
         - usr/share/*
      build-packages:
         - build-essential
         - cmake
         - pkg-config 
         - libgirepository1.0-dev 
         - libgtk-3-dev 
         - libsoup2.4-dev 
         - libjson-glib-dev 
         - libwebkit2gtk-4.0-dev 
         - libsqlite3-dev 
         - libsecret-1-dev 
         - libnotify-dev 
         - libxml2-dev 
         - librest-dev 
         - libgee-0.8-dev 
         - libgstreamer1.0-dev 
         - libgstreamer-plugins-base1.0-dev 
         - libgoa-1.0-dev 
         - libcurl4-gnutls-dev 
         - libpeas-dev    
    valac:
      plugin: autotools
      source: http://download.gnome.org/sources/vala/0.38/vala-0.38.8.tar.xz
      build-packages:
         - flex    
         - bison
         - build-essential
         - libglib2.0-dev
         - libgraphviz-dev
